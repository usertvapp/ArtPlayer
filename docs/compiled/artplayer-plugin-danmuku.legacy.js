/*!
 * artplayer-plugin-danmuku.js v4.4.11
 * Github: https://github.com/zhw2590582/ArtPlayer
 * (c) 2017-2023 Harvey Zack
 * Released under the MIT License.
 */
!function(t,e,r,n,a){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o="function"==typeof i.parcelRequire93cf&&i.parcelRequire93cf,u=o.cache||{},s="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function l(e,r){if(!u[e]){if(!t[e]){var n="function"==typeof i.parcelRequire93cf&&i.parcelRequire93cf;if(!r&&n)return n(e,!0);if(o)return o(e,!0);if(s&&"string"==typeof e)return s(e);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}p.resolve=function(r){var n=t[e][1][r];return null!=n?n:r},p.cache={};var c=u[e]=new l.Module(e);t[e][0].call(c.exports,p,c,c.exports,this)}return u[e].exports;function p(t){var e=p.resolve(t);return!1===e?{}:l(e)}}l.isParcelRequire=!0,l.Module=function(t){this.id=t,this.bundle=l,this.exports={}},l.modules=t,l.cache=u,l.parent=o,l.register=function(e,r){t[e]=[function(t,e){e.exports=r},{}]},Object.defineProperty(l,"root",{get:function(){return i.parcelRequire93cf}}),i.parcelRequire93cf=l;for(var c=0;c<e.length;c++)l(e[c]);var p=l(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=p:"function"==typeof define&&define.amd&&define((function(){return p}))}({bqk8e:[function(t,e,r){var n=t("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var a=t("./danmuku"),i=n.interopDefault(a),o=t("./setting"),u=n.interopDefault(o);function s(t){return function(e){!function(t){var e=t.constructor,r=e.version,n=e.utils.errorHandle,a=r.split(".").map(Number);n(a[0]+a[1]/100>=4.04,"Artplayer.js@".concat(r," 不兼容该弹幕库，请更新到 4.4.x 版本以上"))}(e);var r=new(0,i.default)(e,t);return(0,u.default)(e,r),{name:"artplayerPluginDanmuku",emit:r.emit.bind(r),load:r.load.bind(r),config:r.config.bind(r),hide:r.hide.bind(r),show:r.show.bind(r),reset:r.reset.bind(r),get option(){return r.option},get isHide(){return r.isHide},get isStop(){return r.isStop}}}}r.default=s,s.env="production",s.version="4.4.11",s.build="2023-02-18 19:27:33","undefined"!=typeof window&&(window.artplayerPluginDanmuku=s)},{"./danmuku":"cD7gc","./setting":"3SER8","@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],cD7gc:[function(t,e,r){var n=t("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"default",(function(){return k}));var a=t("@swc/helpers/src/_async_to_generator.mjs"),i=n.interopDefault(a),o=t("@swc/helpers/src/_class_call_check.mjs"),u=n.interopDefault(o),s=t("@swc/helpers/src/_create_class.mjs"),l=n.interopDefault(s),c=t("@swc/helpers/src/_object_spread.mjs"),p=n.interopDefault(c),d=t("@swc/helpers/src/_object_spread_props.mjs"),f=n.interopDefault(d),m=t("regenerator-runtime"),h=n.interopDefault(m),y=t("./bilibili"),g=t("./getDanmuTop"),v=n.interopDefault(g),k=function(){"use strict";function e(r,n){(0,u.default)(this,e);var a=r.constructor,i=r.template;if(this.utils=a.utils,this.validator=a.validator,this.$danmuku=i.$danmuku,this.$player=i.$player,this.art=r,this.queue=[],this.option={},this.$refs=[],this.isStop=!1,this.isHide=!1,this.timer=null,this.config(n),this.option.useWorker)try{this.worker=new Worker(t("85d40535eae5f839"))}catch(t){}this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.reset=this.reset.bind(this),this.destroy=this.destroy.bind(this),r.on("video:play",this.start),r.on("video:playing",this.start),r.on("video:pause",this.stop),r.on("video:waiting",this.stop),r.on("fullscreen",this.reset),r.on("fullscreenWeb",this.reset),r.on("destroy",this.destroy),this.load()}return(0,l.default)(e,[{key:"isRotate",get:function(){return this.art.plugins.autoOrientation&&this.art.plugins.autoOrientation.state}},{key:"marginTop",get:function(){var t=this.utils.clamp,r=this.option.margin[0],n=this.$player.clientHeight;return"number"==typeof r?t(r,0,n):"string"==typeof r&&r.endsWith("%")?t(n*(parseFloat(r)/100),0,n):e.option.margin[0]}},{key:"marginBottom",get:function(){var t=this.utils.clamp,r=this.option.margin[1],n=this.$player.clientHeight;return"number"==typeof r?t(r,0,n):"string"==typeof r&&r.endsWith("%")?t(n*(parseFloat(r)/100),0,n):e.option.margin[1]}},{key:"filter",value:function(t,e){return this.queue.filter((function(e){return e.$state===t})).map(e)}},{key:"getLeft",value:function(t){var e=t.getBoundingClientRect();return this.isRotate?e.top:e.left}},{key:"getRef",value:function(){var t=this.$refs.pop();if(t)return t;var e=document.createElement("div");return e.style.cssText='\n            user-select: none;\n            position: absolute;\n            white-space: pre;\n            pointer-events: none;\n            perspective: 500px;\n            display: inline-block;\n            will-change: transform;\n            font-weight: normal;\n            line-height: 1.125;\n            visibility: hidden;\n            font-family: SimHei, "Microsoft JhengHei", Arial, Helvetica, sans-serif;\n            text-shadow: rgb(0, 0, 0) 1px 0px 1px, rgb(0, 0, 0) 0px 1px 1px, rgb(0, 0, 0) 0px -1px 1px, rgb(0, 0, 0) -1px 0px 1px;\n        ',e}},{key:"getReady",value:function(){var t=this.art.currentTime;return this.queue.filter((function(e){return"ready"===e.$state||"wait"===e.$state&&t+.1>=e.time&&e.time>=t-.1}))}},{key:"getEmits",value:function(){var t=this,e=[],r=this.$player.clientWidth,n=this.getLeft(this.$player);return this.filter("emit",(function(a){var i=a.$ref.offsetTop,o=t.getLeft(a.$ref)-n,u=a.$ref.clientHeight,s=a.$ref.clientWidth,l=o+s,c=r-l,p=l/a.$restTime,d={};d.top=i,d.left=o,d.height=u,d.width=s,d.right=c,d.speed=p,d.distance=l,d.time=a.$restTime,d.mode=a.mode,e.push(d)})),e}},{key:"getFontSize",value:function(t){var r=this.utils.clamp,n=this.$player.clientHeight;return"number"==typeof t?r(t,12,n):"string"==typeof t&&t.endsWith("%")?r(n*(parseFloat(t)/100),12,n):e.option.fontSize}},{key:"postMessage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this;return new Promise((function(r){if(e.option.useWorker&&e.worker&&e.worker.postMessage)t.id=Date.now(),e.worker.postMessage(t),e.worker.onmessage=function(e){var n=e.data;n.id===t.id&&r(n)};else{var n=(0,v.default)(t);r({top:n})}}))}},{key:"load",value:function(){var t=this;return(0,i.default)(h.default.mark((function e(){var r;return h.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=[],"function"!=typeof t.option.danmuku){e.next=8;break}return e.next=5,t.option.danmuku();case 5:r=e.sent,e.next=21;break;case 8:if("function"!=typeof t.option.danmuku.then){e.next=14;break}return e.next=11,t.option.danmuku;case 11:r=e.sent,e.next=21;break;case 14:if("string"!=typeof t.option.danmuku){e.next=20;break}return e.next=17,(0,y.bilibiliDanmuParseFromUrl)(t.option.danmuku);case 17:r=e.sent,e.next=21;break;case 20:r=t.option.danmuku;case 21:t.utils.errorHandle(Array.isArray(r),"Danmuku need return an array as result"),t.art.emit("artplayerPluginDanmuku:loaded",r),t.queue=[],t.$danmuku.innerText="",r.forEach((function(e){return t.emit(e)})),e.next=32;break;case 28:throw e.prev=28,e.t0=e.catch(0),t.art.emit("artplayerPluginDanmuku:error",e.t0),e.t0;case 32:return e.abrupt("return",t);case 33:case"end":return e.stop()}}),e,null,[[0,28]])})))()}},{key:"config",value:function(t){var r=this.utils.clamp;return this.option=Object.assign({},e.option,this.option,t),this.validator(this.option,e.scheme),this.option.speed=r(this.option.speed,1,10),this.option.opacity=r(this.option.opacity,0,1),this.option.lockTime=r(Math.floor(this.option.lockTime),0,60),this.option.maxLength=r(this.option.maxLength,0,500),this.option.minWidth=r(this.option.minWidth,0,500),this.option.maxWidth=r(this.option.maxWidth,0,1/0),t.fontSize&&(this.option.fontSize=this.getFontSize(this.option.fontSize),this.reset()),this.art.emit("artplayerPluginDanmuku:config",this.option),this}},{key:"makeWait",value:function(t){t.$state="wait",t.$ref&&(t.$ref.style.visibility="hidden",t.$ref.style.marginLeft="0px",t.$ref.style.transform="translateX(0px)",t.$ref.style.transition="transform 0s linear 0s",this.$refs.push(t.$ref),t.$ref=null)}},{key:"continue",value:function(){var t=this.$player.clientWidth;return this.filter("stop",(function(e){if(e.$state="emit",e.$lastStartTime=Date.now(),0===e.mode){var r=t+e.$ref.clientWidth;e.$ref.style.transform="translateX(".concat(-r,"px)"),e.$ref.style.transition="transform ".concat(e.$restTime,"s linear 0s")}})),this}},{key:"suspend",value:function(){var t=this,e=this.$player.clientWidth;return this.filter("emit",(function(r){if(r.$state="stop",0===r.mode){var n=e-(t.getLeft(r.$ref)-t.getLeft(t.$player));r.$ref.style.transform="translateX(".concat(-n,"px)"),r.$ref.style.transition="transform 0s linear 0s"}})),this}},{key:"reset",value:function(){var t=this;return this.queue.forEach((function(e){return t.makeWait(e)})),this}},{key:"update",value:function(){var t=this;return this.timer=window.requestAnimationFrame((0,i.default)(h.default.mark((function e(){var r,n,a,i,o,u,s,l,c;return h.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.art.playing||t.isHide){e.next=46;break}t.filter("emit",(function(e){var r=(Date.now()-e.$lastStartTime)/1e3;e.$restTime-=r,e.$lastStartTime=Date.now(),e.$restTime<=0&&t.makeWait(e)})),r=t.getReady(),n=t.$player,a=n.clientWidth,i=n.clientHeight,o=0;case 5:if(!(o<r.length)){e.next=46;break}return(u=r[o]).$ref=t.getRef(),u.$ref.innerText=u.text,t.$danmuku.appendChild(u.$ref),u.$ref.style.left="".concat(a,"px"),u.$ref.style.opacity=t.option.opacity,u.$ref.style.fontSize="".concat(t.option.fontSize,"px"),u.$ref.style.color=u.color,u.$ref.style.border=u.border?"1px solid ".concat(u.color):null,u.$ref.style.backgroundColor=u.border?"rgb(0 0 0 / 50%)":null,u.$ref.style.marginLeft="0px",u.$lastStartTime=Date.now(),u.$restTime=t.option.synchronousPlayback&&t.art.playbackRate?t.option.speed/Number(t.art.playbackRate):t.option.speed,s={mode:u.mode,height:u.$ref.clientHeight,speed:(a+u.$ref.clientWidth)/u.$restTime},e.next=22,t.postMessage({target:s,emits:t.getEmits(),antiOverlap:t.option.antiOverlap,clientWidth:a,clientHeight:i,marginBottom:t.marginBottom,marginTop:t.marginTop});case 22:if(l=e.sent.top,!u.$ref){e.next=43;break}if(t.isStop||void 0===l){e.next=42;break}u.$state="emit",u.$ref.style.visibility="visible",e.t0=u.mode,e.next=0===e.t0?30:1===e.t0?35:39;break;case 30:return u.$ref.style.top="".concat(l,"px"),c=a+u.$ref.clientWidth,u.$ref.style.transform="translateX(".concat(-c,"px)"),u.$ref.style.transition="transform ".concat(u.$restTime,"s linear 0s"),e.abrupt("break",40);case 35:return u.$ref.style.left="50%",u.$ref.style.top="".concat(l,"px"),u.$ref.style.marginLeft="-".concat(u.$ref.clientWidth/2,"px"),e.abrupt("break",40);case 39:return e.abrupt("break",40);case 40:e.next=43;break;case 42:u.$state="ready",t.$refs.push(u.$ref),u.$ref=null;case 43:o++,e.next=5;break;case 46:t.isStop||t.update();case 47:case"end":return e.stop()}}),e)})))),this}},{key:"stop",value:function(){return this.isStop=!0,this.suspend(),window.cancelAnimationFrame(this.timer),this.art.emit("artplayerPluginDanmuku:stop"),this}},{key:"start",value:function(){return this.isStop=!1,this.continue(),this.update(),this.art.emit("artplayerPluginDanmuku:start"),this}},{key:"show",value:function(){return this.isHide=!1,this.start(),this.$danmuku.style.display="block",this.art.emit("artplayerPluginDanmuku:show"),this}},{key:"hide",value:function(){var t=this;return this.isHide=!0,this.stop(),this.queue.forEach((function(e){return t.makeWait(e)})),this.$danmuku.style.display="none",this.art.emit("artplayerPluginDanmuku:hide"),this}},{key:"emit",value:function(t){return this.validator(t,{text:"string",mode:"number|undefined",color:"string|undefined",time:"number|undefined",border:"boolean|undefined"}),t.text.trim()&&this.option.filter(t)?(t.time?t.time=this.utils.clamp(t.time,0,1/0):t.time=this.art.currentTime+.5,void 0===t.mode&&(t.mode=this.option.mode),void 0===t.color&&(t.color=this.option.color),this.queue.push((0,f.default)((0,p.default)({},t),{$state:"wait",$ref:null,$restTime:0,$lastStartTime:0})),this):this}},{key:"destroy",value:function(){this.stop(),this.worker&&this.worker.terminate&&this.worker.terminate(),this.art.off("video:play",this.start),this.art.off("video:playing",this.start),this.art.off("video:pause",this.stop),this.art.off("video:waiting",this.stop),this.art.off("fullscreen",this.reset),this.art.off("fullscreenWeb",this.reset),this.art.off("destroy",this.destroy),this.art.emit("artplayerPluginDanmuku:destroy")}}],[{key:"option",get:function(){return{danmuku:[],speed:5,margin:["2%","25%"],opacity:1,color:"#FFFFFF",mode:0,fontSize:25,filter:function(){return!0},antiOverlap:!0,useWorker:!0,synchronousPlayback:!1,lockTime:5,maxLength:100,minWidth:200,maxWidth:400,mount:void 0,theme:"dark",beforeEmit:function(){return!0}}}},{key:"scheme",get:function(){return{danmuku:"array|function|string",speed:"number",margin:"array",opacity:"number",color:"string",mode:"number",fontSize:"number|string",filter:"function",antiOverlap:"boolean",useWorker:"boolean",synchronousPlayback:"boolean",lockTime:"number",maxLength:"number",minWidth:"number",maxWidth:"number",mount:"undefined|htmldivelement",theme:"string",beforeEmit:"function"}}}]),e}()},{"@swc/helpers/src/_async_to_generator.mjs":"82zOV","@swc/helpers/src/_class_call_check.mjs":"i4jGl","@swc/helpers/src/_create_class.mjs":"2A1Ap","@swc/helpers/src/_object_spread.mjs":"854al","@swc/helpers/src/_object_spread_props.mjs":"67hNQ","regenerator-runtime":"aOQxt","./bilibili":"iVXtC","./getDanmuTop":"92aFk","85d40535eae5f839":"28xKk","@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],"82zOV":[function(t,e,r){function n(t,e,r,n,a,i,o){try{var u=t[i](o),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,a)}t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(t){return function(){var e=this,r=arguments;return new Promise((function(a,i){var o=t.apply(e,r);function u(t){n(o,a,i,u,s,"next",t)}function s(t){n(o,a,i,u,s,"throw",t)}u(void 0)}))}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],"6uDyy":[function(t,e,r){r.interopDefault=function(t){return t&&t.__esModule?t:{default:t}},r.defineInteropFlag=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.exportAll=function(t,e){return Object.keys(t).forEach((function(r){"default"===r||"__esModule"===r||e.hasOwnProperty(r)||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})})),e},r.export=function(t,e,r){Object.defineProperty(t,e,{enumerable:!0,get:r})}},{}],i4jGl:[function(t,e,r){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},{"@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],"2A1Ap":[function(t,e,r){function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},{"@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],"854al":[function(t,e,r){var n=t("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var a=t("./_define_property.mjs"),i=n.interopDefault(a);r.default=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){(0,i.default)(t,e,r[e])}))}return t}},{"./_define_property.mjs":"eH68R","@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],eH68R:[function(t,e,r){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},{"@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],"67hNQ":[function(t,e,r){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})),t}},{"@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],aOQxt:[function(t,e,r){var n=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),o=new $(n||[]);return i._invoke=function(t,e,r){var n=p;return function(a,i){if(n===f)throw new Error("Generator is already running");if(n===m){if("throw"===a)throw i;return F()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var u=_(o,r);if(u){if(u===h)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var s=c(t,e,r);if("normal"===s.type){if(n=r.done?m:d,s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=m,r.method="throw",r.arg=s.arg)}}}(t,r,o),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",f="executing",m="completed",h={};function y(){}function g(){}function v(){}var k={};s(k,i,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(A([])));x&&x!==r&&n.call(x,i)&&(k=x);var w=v.prototype=y.prototype=Object.create(k);function D(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,i,o,u){var s=c(t[a],t,i);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){r("next",t,o,u)}),(function(t){r("throw",t,o,u)})):e.resolve(p).then((function(t){l.value=t,o(l)}),(function(t){return r("throw",t,o,u)}))}u(s.arg)}var a;this._invoke=function(t,n){function i(){return new e((function(e,a){r(t,n,e,a)}))}return a=a?a.then(i,i):i()}}function _(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method))return h;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=c(n,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function $(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function A(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}return{next:F}}function F(){return{value:e,done:!0}}return g.prototype=v,s(w,"constructor",v),s(v,"constructor",g),g.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},D(j.prototype),s(j.prototype,o,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var o=new j(l(e,r,n,a),i);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},D(w),s(w,u,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=A,$.prototype={constructor:$,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return u.type="throw",u.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],u=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),B(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;B(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}(e.exports);try{regeneratorRuntime=n}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},{}],iVXtC:[function(t,e,r){var n=t("@parcel/transformer-js/src/esmodule-helpers.js");function a(t){switch(t){case 1:case 2:case 3:default:return 0;case 4:case 5:return 1}}function i(t){if("string"!=typeof t)return[];var e=t.matchAll(RegExp('<d (?:.*? )??p="(?<p>.+?)"(?: .*?)?>(?<text>.+?)<\\/d>',"gs"));return Array.from(e).map((function(t){var e=t.groups.p.split(",");return e.length>=8?{text:t.groups.text.trim().replaceAll("&quot;",'"').replaceAll("&apos;","'").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&amp;","&"),time:Number(e[0]),mode:a(Number(e[1])),fontSize:Number(e[2]),color:"#".concat(Number(e[3]).toString(16)),timestamp:Number(e[4]),pool:Number(e[5]),userID:e[6],rowID:Number(e[7])}:null})).filter(Boolean)}function o(t){return fetch(t).then((function(t){return t.text()})).then((function(t){return i(t)}))}n.defineInteropFlag(r),n.export(r,"getMode",(function(){return a})),n.export(r,"bilibiliDanmuParseFromXml",(function(){return i})),n.export(r,"bilibiliDanmuParseFromUrl",(function(){return o}))},{"@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],"92aFk":[function(t,e,r){var n=t("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var a=t("@swc/helpers/src/_to_consumable_array.mjs"),i=n.interopDefault(a);r.default=function(t){var e=t.target,r=t.emits,n=t.clientWidth,a=t.clientHeight,o=t.marginBottom,u=t.marginTop,s=t.antiOverlap,l=r.filter((function(t){return t.mode===e.mode&&t.top<=a-o})).sort((function(t,e){return t.top-e.top}));if(0===l.length)return u;l.unshift({top:0,left:0,right:0,height:u,width:n,speed:0,distance:n}),l.push({top:a-o,left:0,right:0,height:o,width:n,speed:0,distance:n});for(var c=1;c<l.length;c+=1){var p=l[c],d=l[c-1],f=d.top+d.height;if(p.top-f>=e.height)return f}for(var m=[],h=1;h<l.length-1;h+=1){var y=l[h];if(m.length){var g=m[m.length-1];g[0].top===y.top?g.push(y):m.push([y])}else m.push([y])}if(!s){switch(e.mode){case 0:m.sort((function(t,e){var r,n,a=(r=Math).min.apply(r,(0,i.default)(e.map((function(t){return t.right})))),o=(n=Math).min.apply(n,(0,i.default)(t.map((function(t){return t.right}))));return a*e.length-o*t.length}));break;case 1:m.sort((function(t,e){var r,n,a=(r=Math).max.apply(r,(0,i.default)(e.map((function(t){return t.width})))),o=(n=Math).max.apply(n,(0,i.default)(t.map((function(t){return t.width}))));return o*t.length-a*e.length}))}return m[0][0].top}switch(e.mode){case 0:var v=m.find((function(t){return t.every((function(t){return!(n<t.distance)&&(e.speed<t.speed||t.right/(e.speed-t.speed)>t.time)}))}));return v&&v[0]?v[0].top:void 0;case 1:return}}},{"@swc/helpers/src/_to_consumable_array.mjs":"fjKdm","@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],fjKdm:[function(t,e,r){var n=t("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var a=t("./_array_without_holes.mjs"),i=n.interopDefault(a),o=t("./_iterable_to_array.mjs"),u=n.interopDefault(o),s=t("./_non_iterable_spread.mjs"),l=n.interopDefault(s),c=t("./_unsupported_iterable_to_array.mjs"),p=n.interopDefault(c);r.default=function(t){return(0,i.default)(t)||(0,u.default)(t)||(0,p.default)(t)||(0,l.default)()}},{"./_array_without_holes.mjs":"a6Rts","./_iterable_to_array.mjs":"iDbLZ","./_non_iterable_spread.mjs":"lMOGE","./_unsupported_iterable_to_array.mjs":"7C8mO","@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],a6Rts:[function(t,e,r){var n=t("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var a=t("./_array_like_to_array.mjs"),i=n.interopDefault(a);r.default=function(t){if(Array.isArray(t))return(0,i.default)(t)}},{"./_array_like_to_array.mjs":"dxfL9","@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],dxfL9:[function(t,e,r){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},{"@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],iDbLZ:[function(t,e,r){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],lMOGE:[function(t,e,r){t("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},{"@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],"7C8mO":[function(t,e,r){var n=t("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var a=t("./_array_like_to_array.mjs"),i=n.interopDefault(a);r.default=function(t,e){if(t){if("string"==typeof t)return(0,i.default)(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,i.default)(t,e):void 0}}},{"./_array_like_to_array.mjs":"dxfL9","@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],"28xKk":[function(t,e,r){e.exports="data:application/javascript,function%20_arrayLikeToArray%28r%2Ct%29%7B%28null%3D%3Dt%7C%7Ct%3Er.length%29%26%26%28t%3Dr.length%29%3Bfor%28var%20e%3D0%2Cn%3Dnew%20Array%28t%29%3Be%3Ct%3Be%2B%2B%29n%5Be%5D%3Dr%5Be%5D%3Breturn%20n%7Dfunction%20_arrayWithoutHoles%28r%29%7Bif%28Array.isArray%28r%29%29return%20_arrayLikeToArray%28r%29%7Dfunction%20_iterableToArray%28r%29%7Bif%28%22undefined%22%21%3Dtypeof%20Symbol%26%26null%21%3Dr%5BSymbol.iterator%5D%7C%7Cnull%21%3Dr%5B%22%40%40iterator%22%5D%29return%20Array.from%28r%29%7Dfunction%20_nonIterableSpread%28%29%7Bthrow%20new%20TypeError%28%22Invalid%20attempt%20to%20spread%20non-iterable%20instance.%5C%5CnIn%20order%20to%20be%20iterable%2C%20non-array%20objects%20must%20have%20a%20%5BSymbol.iterator%5D%28%29%20method.%22%29%7Dfunction%20_toConsumableArray%28r%29%7Breturn%20_arrayWithoutHoles%28r%29%7C%7C_iterableToArray%28r%29%7C%7C_unsupportedIterableToArray%28r%29%7C%7C_nonIterableSpread%28%29%7Dfunction%20_unsupportedIterableToArray%28r%2Ct%29%7Bif%28r%29%7Bif%28%22string%22%3D%3Dtypeof%20r%29return%20_arrayLikeToArray%28r%2Ct%29%3Bvar%20e%3DObject.prototype.toString.call%28r%29.slice%288%2C-1%29%3Breturn%22Object%22%3D%3D%3De%26%26r.constructor%26%26%28e%3Dr.constructor.name%29%2C%22Map%22%3D%3D%3De%7C%7C%22Set%22%3D%3D%3De%3FArray.from%28e%29%3A%22Arguments%22%3D%3D%3De%7C%7C%2F%5E%28%3F%3AUi%7CI%29nt%28%3F%3A8%7C16%7C32%29%28%3F%3AClamped%29%3FArray%24%2F.test%28e%29%3F_arrayLikeToArray%28r%2Ct%29%3Avoid%200%7D%7Dfunction%20getDanmuTop%28r%29%7Bvar%20t%3Dr.target%2Ce%3Dr.emits%2Cn%3Dr.clientWidth%2Ca%3Dr.clientHeight%2Co%3Dr.marginBottom%2Ci%3Dr.marginTop%2Cu%3Dr.antiOverlap%2Cp%3De.filter%28%28function%28r%29%7Breturn%20r.mode%3D%3D%3Dt.mode%26%26r.top%3C%3Da-o%7D%29%29.sort%28%28function%28r%2Ct%29%7Breturn%20r.top-t.top%7D%29%29%3Bif%280%3D%3D%3Dp.length%29return%20i%3Bp.unshift%28%7Btop%3A0%2Cleft%3A0%2Cright%3A0%2Cheight%3Ai%2Cwidth%3An%2Cspeed%3A0%2Cdistance%3An%7D%29%2Cp.push%28%7Btop%3Aa-o%2Cleft%3A0%2Cright%3A0%2Cheight%3Ao%2Cwidth%3An%2Cspeed%3A0%2Cdistance%3An%7D%29%3Bfor%28var%20l%3D1%3Bl%3Cp.length%3Bl%2B%3D1%29%7Bvar%20s%3Dp%5Bl%5D%2Ch%3Dp%5Bl-1%5D%2Cf%3Dh.top%2Bh.height%3Bif%28s.top-f%3E%3Dt.height%29return%20f%7Dfor%28var%20c%3D%5B%5D%2Cy%3D1%3By%3Cp.length-1%3By%2B%3D1%29%7Bvar%20m%3Dp%5By%5D%3Bif%28c.length%29%7Bvar%20d%3Dc%5Bc.length-1%5D%3Bd%5B0%5D.top%3D%3D%3Dm.top%3Fd.push%28m%29%3Ac.push%28%5Bm%5D%29%7Delse%20c.push%28%5Bm%5D%29%7Dif%28%21u%29%7Bswitch%28t.mode%29%7Bcase%200%3Ac.sort%28%28function%28r%2Ct%29%7Bvar%20e%2Cn%2Ca%3D%28e%3DMath%29.min.apply%28e%2C_toConsumableArray%28t.map%28%28function%28r%29%7Breturn%20r.right%7D%29%29%29%29%2Co%3D%28n%3DMath%29.min.apply%28n%2C_toConsumableArray%28r.map%28%28function%28r%29%7Breturn%20r.right%7D%29%29%29%29%3Breturn%20a%2at.length-o%2ar.length%7D%29%29%3Bbreak%3Bcase%201%3Ac.sort%28%28function%28r%2Ct%29%7Bvar%20e%2Cn%2Ca%3D%28e%3DMath%29.max.apply%28e%2C_toConsumableArray%28t.map%28%28function%28r%29%7Breturn%20r.width%7D%29%29%29%29%2Co%3D%28n%3DMath%29.max.apply%28n%2C_toConsumableArray%28r.map%28%28function%28r%29%7Breturn%20r.width%7D%29%29%29%29%3Breturn%20o%2ar.length-a%2at.length%7D%29%29%7Dreturn%20c%5B0%5D%5B0%5D.top%7Dswitch%28t.mode%29%7Bcase%200%3Avar%20g%3Dc.find%28%28function%28r%29%7Breturn%20r.every%28%28function%28r%29%7Breturn%21%28n%3Cr.distance%29%26%26%28t.speed%3Cr.speed%7C%7Cr.right%2F%28t.speed-r.speed%29%3Er.time%29%7D%29%29%7D%29%29%3Breturn%20g%26%26g%5B0%5D%3Fg%5B0%5D.top%3Avoid%200%3Bcase%201%3Areturn%7D%7Donmessage%3Dfunction%28r%29%7Bvar%20t%3Dr.data%2Ce%3DgetDanmuTop%28t%29%3Bself.postMessage%28%7Btop%3Ae%2Cid%3At.id%7D%29%7D%3B"},{}],"3SER8":[function(t,e,r){var n=t("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var a=t("bundle-text:./style.less"),i=n.interopDefault(a),o=t("bundle-text:./img/danmu-on.svg"),u=n.interopDefault(o),s=t("bundle-text:./img/danmu-off.svg"),l=n.interopDefault(s),c=t("bundle-text:./img/danmu-config.svg"),p=n.interopDefault(c),d=t("bundle-text:./img/danmu-style.svg"),f=n.interopDefault(d);if(r.default=function(t,e){var r=e.option,n=t.template,a=n.$controlsCenter,i=n.$player,o=t.constructor.utils,s=o.removeClass,c=o.addClass,d=o.append,m=o.setStyle,h=o.tooltip,y=o.query,g=o.inverseClass;function v(t,e){var r=document.createElement("i");return d(r,t),c(r,"art-icon"),c(r,"art-icon-".concat(e)),r}var k=v(u.default,"danmu-on"),b=v(l.default,"danmu-off"),x=v(p.default,"danmu-config"),w=v(f.default,"danmu-style");!function(){var n=["#FE0302","#FF7204","#FFAA02","#FFD302","#FFFF00","#A0EE00","#00CD00","#019899","#4266BE","#89D5FF","#CC0273","#222222","#9B9B9B","#FFFFFF"].map((function(t){var e=r.color===t?" art-current":"";return'<div class="art-danmuku-style-panel-color'.concat(e,'" data-color="').concat(t,'" style="background-color:').concat(t,'"></div>')})),o=d(a,'<div class="art-danmuku-emitter" style="max-width: '.concat(r.maxWidth?"".concat(r.maxWidth,"px"):"100%",'"><div class="art-danmuku-left"><div class="art-danmuku-style"><div class="art-danmuku-style-panel"><div class="art-danmuku-style-panel-inner"><div class="art-danmuku-style-panel-title">模式</div><div class="art-danmuku-style-panel-modes"><div class="art-danmuku-style-panel-mode art-current" data-mode="0">滚动</div><div class="art-danmuku-style-panel-mode" data-mode="1">静止</div></div><div class="art-danmuku-style-panel-title">颜色</div><div class="art-danmuku-style-panel-colors">').concat(n.join(""),'</div></div></div></div><input class="art-danmuku-input" maxlength="').concat(r.maxLength,'" placeholder="发个弹幕见证当下" /></div><div class="art-danmuku-send">发送</div></div>')),u=y(".art-danmuku-style",o),l=y(".art-danmuku-input",o),p=y(".art-danmuku-send",o),f=y(".art-danmuku-style-panel-inner",o),h=y(".art-danmuku-style-panel-modes",o),v=y(".art-danmuku-style-panel-colors",o),k=r.mount||d(i,'<div class="art-layer-danmuku-emitter"></div>');t.option.backdrop&&c(f,"art-backdrop-filter"),r.theme&&c(o,"art-danmuku-theme-".concat(r.theme));var b=null,x=r.mode,D=r.color;function j(t){t<=0?(b=null,p.innerText="发送",s(p,"art-disabled")):(p.innerText=t,b=setTimeout((function(){return j(t-1)}),1e3))}function _(){var n={mode:x,color:D,border:!0,text:l.value.trim()};null===b&&r.beforeEmit(n)&&(l.value="",e.emit(n),c(p,"art-disabled"),j(r.lockTime),t.emit("artplayerPluginDanmuku:emit",n))}function C(){a.clientWidth<r.minWidth?(d(k,o),m(k,"display","flex"),c(o,"art-danmuku-mount"),r.mount||m(i,"marginBottom","40px")):(d(a,o),m(k,"display","none"),s(o,"art-danmuku-mount"),r.mount||m(i,"marginBottom",null))}d(u,w),t.proxy(p,"click",_),t.proxy(l,"keypress",(function(t){"Enter"===t.key&&(t.preventDefault(),_())})),t.proxy(h,"click",(function(t){var e=t.target.dataset;e.mode&&(x=Number(e.mode),g(t.target,"art-current"))})),t.proxy(v,"click",(function(t){var e=t.target.dataset;e.color&&(D=e.color,g(t.target,"art-current"))})),C(),t.on("resize",(function(){t.isInput||C()})),t.on("destroy",(function(){r.mount&&o.parentElement===r.mount&&r.mount.removeChild(o)}))}(),t.controls.add({position:"right",name:"danmuku",click:function(){e.isHide?(e.show(),t.notice.show="弹幕显示",m(k,"display",null),m(b,"display","none")):(e.hide(),t.notice.show="弹幕隐藏",m(k,"display","none"),m(b,"display",null))},mounted:function(t){d(t,k),d(t,b),h(t,"弹幕开关"),m(b,"display","none")}}),t.setting.add({name:"danmuku",html:"弹幕设置",tooltip:"更多",icon:x,selector:[{width:200,html:"播放速度",icon:"",tooltip:"适中",selector:[{html:"极慢",time:10},{html:"较慢",time:7.5},{default:!0,html:"适中",time:5},{html:"较快",time:2.5},{html:"极快",time:1}],onSelect:function(t){return e.config({speed:t.time}),t.html}},{width:200,html:"字体大小",icon:"",tooltip:"适中",selector:[{html:"极小",fontSize:"4%"},{html:"较小",fontSize:"5%"},{default:!0,html:"适中",fontSize:"6%"},{html:"较大",fontSize:"7%"},{html:"极大",fontSize:"8%"}],onSelect:function(t){return e.config({fontSize:t.fontSize}),t.html}},{width:200,html:"不透明度",icon:"",tooltip:"100%",selector:[{default:!0,opacity:1,html:"100%"},{opacity:.75,html:"75%"},{opacity:.5,html:"50%"},{opacity:.25,html:"25%"},{opacity:0,html:"0%"}],onSelect:function(t){return e.config({opacity:t.opacity}),t.html}},{width:200,html:"显示范围",icon:"",tooltip:"3/4",selector:[{html:"1/4",margin:[10,"75%"]},{html:"半屏",margin:[10,"50%"]},{default:!0,html:"3/4",margin:[10,"25%"]},{html:"满屏",margin:[10,10]}],onSelect:function(t){return e.config({margin:t.margin}),t.html}},{html:"弹幕防重叠",icon:"",tooltip:r.antiOverlap?"开启":"关闭",switch:r.antiOverlap,onSwitch:function(t){return e.config({antiOverlap:!t.switch}),t.tooltip=t.switch?"关闭":"开启",!t.switch}},{html:"同步视频速度",icon:"",tooltip:r.synchronousPlayback?"开启":"关闭",switch:r.synchronousPlayback,onSwitch:function(t){return e.config({synchronousPlayback:!t.switch}),t.tooltip=t.switch?"关闭":"开启",!t.switch}}]})},"undefined"!=typeof document&&!document.getElementById("artplayer-plugin-danmuku")){var m=document.createElement("style");m.id="artplayer-plugin-danmuku",m.textContent=i.default,document.head.appendChild(m)}},{"bundle-text:./style.less":"8YmJL","bundle-text:./img/danmu-on.svg":"cwfdt","bundle-text:./img/danmu-off.svg":"diaOn","bundle-text:./img/danmu-config.svg":"i9Q0Z","bundle-text:./img/danmu-style.svg":"43C8k","@parcel/transformer-js/src/esmodule-helpers.js":"6uDyy"}],"8YmJL":[function(t,e,r){e.exports='.art-danmuku-emitter{height:32px;width:100%;max-width:100%;color:#fff;-webkit-tap-highlight-color:transparent;touch-action:manipulation;-ms-high-contrast-adjust:none;background-color:rgba(255,255,255,.3);border-radius:3px;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:12px;line-height:1;display:flex;position:relative}.art-danmuku-emitter *,.art-danmuku-emitter :before,.art-danmuku-emitter :after{box-sizing:border-box;margin:0;padding:0}.art-danmuku-emitter .art-icon{justify-content:center;align-items:center;line-height:1.5;display:inline-flex}.art-danmuku-emitter .art-icon svg{fill:#fff}@supports ((-webkit-backdrop-filter: initial) or (backdrop-filter: initial)){.art-danmuku-emitter .art-backdrop-filter{-webkit-backdrop-filter:saturate(180%)blur(20px);-webkit-backdrop-filter:saturate(180%)blur(20px);-webkit-backdrop-filter:saturate(180%)blur(20px);backdrop-filter:saturate(180%)blur(20px);background-color:rgba(0,0,0,.7)!important}}.art-danmuku-emitter .art-danmuku-left{border-radius:3px 0 0 3px;flex:1;display:flex}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style{width:32px;justify-content:center;align-items:center;display:flex;position:relative}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel{z-index:999;width:200px;padding-bottom:10px;display:none;position:absolute;bottom:30px;left:-85px}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner{background-color:rgba(0,0,0,.9);border-radius:3px;flex-direction:column;padding:10px 10px 0;display:flex}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner .art-danmuku-style-panel-title{margin-bottom:10px;font-size:13px}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner .art-danmuku-style-panel-modes{justify-content:space-between;margin-bottom:15px;display:flex}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner .art-danmuku-style-panel-modes .art-danmuku-style-panel-mode{width:47%;cursor:pointer;color:#fff;border:1px solid #fff;justify-content:center;padding:5px 0;display:flex}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner .art-danmuku-style-panel-modes .art-danmuku-style-panel-mode.art-current{background-color:#00a1d6;border:1px solid #00a1d6}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner .art-danmuku-style-panel-colors{flex-wrap:wrap;justify-content:space-between;gap:5px;margin-bottom:10px;display:flex}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner .art-danmuku-style-panel-colors .art-danmuku-style-panel-color{cursor:pointer;width:20px;height:20px;border:1px solid #fff}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner .art-danmuku-style-panel-colors .art-danmuku-style-panel-color.art-current{position:relative;box-shadow:0 0 2px #fff}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner .art-danmuku-style-panel-colors .art-danmuku-style-panel-color.art-current:before{content:"";width:100%;height:100%;border:2px solid #000;position:absolute;top:0;bottom:0;left:0;right:0}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style:hover .art-danmuku-style-panel{display:flex}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-icon{opacity:.75;cursor:pointer}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-icon:hover{opacity:1}.art-danmuku-emitter .art-danmuku-left .art-danmuku-input{width:100%;color:#fff;background-color:transparent;border:none;outline:none;flex:1;padding:0 10px 0 0;display:flex}.art-danmuku-emitter .art-danmuku-left .art-danmuku-input::placeholder,.art-danmuku-emitter .art-danmuku-left .art-danmuku-input::-webkit-input-placeholder{color:rgba(255,255,255,.5)}.art-danmuku-emitter .art-danmuku-send{width:50px;cursor:pointer;background-color:#00a1d6;border-radius:0 3px 3px 0;justify-content:center;align-items:center;display:flex}.art-danmuku-emitter .art-danmuku-send:hover{background-color:#00b5e5}.art-danmuku-emitter .art-danmuku-send.art-disabled{opacity:.5;pointer-events:none}.art-danmuku-emitter.art-danmuku-mount{height:34px;max-width:100%!important}.art-danmuku-emitter.art-danmuku-mount .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel{left:0}.art-danmuku-emitter.art-danmuku-mount .art-danmuku-send{width:60px}.art-danmuku-emitter.art-danmuku-mount.art-danmuku-theme-light .art-danmuku-left{background:#f4f4f4;border:1px solid #dadada}.art-danmuku-emitter.art-danmuku-mount.art-danmuku-theme-light .art-danmuku-left .art-danmuku-style .art-icon svg{fill:#666}.art-danmuku-emitter.art-danmuku-mount.art-danmuku-theme-light .art-danmuku-left .art-danmuku-input{color:#000}.art-danmuku-emitter.art-danmuku-mount.art-danmuku-theme-light .art-danmuku-left .art-danmuku-input::placeholder,.art-danmuku-emitter.art-danmuku-mount.art-danmuku-theme-light .art-danmuku-left .art-danmuku-input::-webkit-input-placeholder{color:rgba(0,0,0,.5)}.art-layer-danmuku-emitter{z-index:99;width:100%;position:absolute;bottom:-40px;left:0;right:0}'},{}],cwfdt:[function(t,e,r){e.exports='<svg viewBox="0 0 1152 1024" width="22" height="22" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M311.467 661.333c0 4.267-4.267 8.534-8.534 12.8 0 4.267 0 4.267-4.266 8.534h-12.8c-4.267 0-8.534-4.267-17.067-8.534-8.533-8.533-17.067-8.533-25.6-8.533-8.533 0-12.8 4.267-17.067 12.8-4.266 12.8-8.533 21.333-4.266 29.867 4.266 8.533 12.8 17.066 25.6 21.333 17.066 8.533 34.133 17.067 46.933 17.067 12.8 0 21.333-4.267 34.133-8.534 8.534-4.266 17.067-17.066 25.6-29.866 8.534-12.8 12.8-34.134 17.067-55.467 4.267-21.333 4.267-51.2 4.267-85.333 0-12.8 0-21.334-4.267-29.867 0-8.533-4.267-12.8-8.533-17.067-4.267-4.266-8.534-8.533-12.8-8.533-4.267 0-12.8-4.267-21.334-4.267h-55.466s-4.267-4.266 0-8.533l4.266-38.4c0-4.267 0-8.533 4.267-8.533h46.933c17.067 0 25.6-4.267 34.134-12.8 8.533-8.534 12.8-21.334 12.8-42.667v-72.533c0-17.067-4.267-34.134-8.534-42.667-12.8-12.8-25.6-17.067-42.666-17.067H243.2c-8.533 0-17.067 0-21.333 4.267-4.267 8.533-4.267 12.8-4.267 25.6 0 8.533 0 17.067 4.267 21.333 4.266 4.267 12.8 8.534 21.333 8.534h64c4.267 0 8.533 0 8.533 4.266v34.134c0 8.533 0 12.8-4.266 12.8 0 0-4.267 4.266-8.534 4.266H268.8c-8.533 0-12.8 0-21.333 4.267-4.267 0-8.534 4.267-8.534 4.267-4.266 4.266-8.533 12.8-8.533 17.066 0 8.534-4.267 17.067-4.267 25.6l-8.533 72.534v29.866c0 8.534 4.267 12.8 8.533 17.067 4.267 4.267 8.534 4.267 17.067 8.533h68.267c4.266 0 8.533 0 8.533 4.267s4.267 8.533 4.267 17.067c0 21.333 0 42.666-4.267 55.466 0 8.534-4.267 21.334-8.533 25.6zM896 486.4c-93.867 0-174.933 51.2-217.6 123.733H571.733V576H640c21.333 0 34.133-4.267 42.667-12.8 8.533-8.533 12.8-21.333 12.8-42.667V358.4c0-21.333-4.267-34.133-12.8-42.667-8.534-8.533-21.334-12.8-42.667-12.8 0-4.266 4.267-4.266 4.267-8.533-4.267 0-4.267-4.267-4.267-4.267 4.267-12.8 8.533-21.333 4.267-25.6 0-8.533-4.267-12.8-12.8-21.333-8.534-4.267-17.067-4.267-21.334-4.267-8.533 4.267-12.8 8.534-21.333 21.334-4.267 8.533-8.533 12.8-12.8 21.333-4.267 8.533-8.533 12.8-12.8 21.333H512c-4.267-8.533-8.533-17.066-8.533-21.333-4.267-8.533-8.534-12.8-12.8-21.333-4.267-12.8-12.8-17.067-21.334-17.067s-17.066 0-25.6 8.533c-8.533 8.534-12.8 12.8-12.8 21.334s0 17.066 8.534 25.6l4.266 4.266L448 307.2c-17.067 0-29.867 4.267-38.4 12.8-8.533 4.267-12.8 21.333-12.8 38.4v157.867c0 21.333 4.267 34.133 12.8 42.666 8.533 8.534 21.333 12.8 42.667 12.8H512v34.134h-98.133c-12.8 0-21.334 0-25.6 4.266-4.267 4.267-8.534 8.534-8.534 21.334v17.066c0 4.267 4.267 8.534 4.267 8.534 4.267 0 4.267 4.266 8.533 4.266H512V716.8c0 12.8 4.267 21.333 8.533 25.6 4.267 4.267 12.8 8.533 21.334 8.533 12.8 0 21.333-4.266 25.6-8.533 4.266-4.267 4.266-12.8 4.266-25.6v-55.467H652.8c-8.533 25.6-12.8 51.2-12.8 76.8 0 140.8 115.2 256 256 256s256-115.2 256-256S1036.8 486.4 896 486.4zm-328.533-128h55.466c4.267 0 4.267 0 4.267 4.267V409.6h-59.733v-51.2zm0 102.4H627.2V512h-55.467v-51.2zM512 516.267h-55.467v-51.2H512v51.2zm0-102.4h-59.733V362.667H512v51.2zm384 499.2c-93.867 0-170.667-76.8-170.667-170.667S802.133 571.733 896 571.733s170.667 76.8 170.667 170.667S989.867 913.067 896 913.067z"/><path fill="#fff" d="M951.467 669.867 878.933 742.4l-29.866-25.6C832 699.733 806.4 704 789.333 721.067c-17.066 17.066-12.8 42.666 4.267 59.733l59.733 51.2c8.534 8.533 17.067 8.533 29.867 8.533s21.333-4.266 29.867-12.8l102.4-102.4c17.066-17.066 17.066-42.666 0-59.733-21.334-12.8-46.934-12.8-64 4.267zm-371.2 209.066H213.333c-72.533 0-128-55.466-128-119.466V230.4c0-64 55.467-119.467 128-119.467h512c72.534 0 128 55.467 128 119.467v140.8c0 25.6 17.067 42.667 42.667 42.667s42.667-17.067 42.667-42.667V230.4c0-115.2-93.867-204.8-213.334-204.8h-512C93.867 25.6 0 119.467 0 230.4v529.067c0 115.2 93.867 204.8 213.333 204.8h366.934c25.6 0 42.666-17.067 42.666-42.667s-21.333-42.667-42.666-42.667z"/></svg>'},{}],diaOn:[function(t,e,r){e.exports='<svg viewBox="0 0 1152 1024" width="22" height="22" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M311.296 661.504c0 4.096-4.096 8.704-8.704 12.8 0 4.096 0 4.096-4.096 8.704h-12.8c-4.096 0-8.704-4.096-16.896-8.704-8.704-8.704-16.896-8.704-25.6-8.704s-12.8 4.096-16.896 12.8c-4.096 12.8-8.704 21.504-4.096 29.696 4.096 8.704 12.8 16.896 25.6 21.504 16.896 8.704 34.304 16.896 47.104 16.896 12.8 0 21.504-4.096 34.304-8.704 8.704-4.096 16.896-16.896 25.6-29.696s12.8-34.304 16.896-55.296c4.096-21.504 4.096-51.2 4.096-85.504 0-12.8 0-21.504-4.096-29.696 0-8.704-4.096-12.8-8.704-16.896-4.096-4.096-8.704-8.704-12.8-8.704s-12.8-4.096-21.504-4.096h-55.808s-4.096-4.096 0-8.704l4.096-38.4c0-4.096 0-8.704 4.096-8.704h47.104c16.896 0 25.6-4.096 34.304-12.8s12.8-21.504 12.8-42.496v-72.704c0-16.896-4.096-34.304-8.704-42.496-12.8-12.8-25.6-16.896-42.496-16.896H243.2c-8.704 0-16.896 0-21.504 4.096-4.096 8.704-4.096 12.8-4.096 25.6 0 8.704 0 16.896 4.096 21.504 4.096 4.096 12.8 8.704 21.504 8.704h64c4.096 0 8.704 0 8.704 4.096v34.304c0 8.704 0 12.8-4.096 12.8 0 0-4.096 4.096-8.704 4.096H268.8c-8.704 0-12.8 0-21.504 4.096-4.096 0-8.704 4.096-8.704 4.096-4.096 4.096-8.704 12.8-8.704 16.896 0 8.704-4.096 16.896-4.096 25.6l-8.704 72.704v29.696c0 8.704 4.096 12.8 8.704 16.896s8.704 4.096 16.896 8.704h68.096c4.096 0 8.704 0 8.704 4.096s4.096 8.704 4.096 16.896c0 21.504 0 42.496-4.096 55.296.512 9.216-3.584 22.016-8.192 26.624zM896 486.4c-93.696 0-175.104 51.2-217.6 123.904H571.904V576H640c21.504 0 34.304-4.096 42.496-12.8 8.704-8.704 12.8-21.504 12.8-42.496V358.4c0-21.504-4.096-34.304-12.8-42.496-8.704-8.704-21.504-12.8-42.496-12.8 0-4.096 4.096-4.096 4.096-8.704-4.096 0-4.096-4.096-4.096-4.096 4.096-12.8 8.704-21.504 4.096-25.6 0-8.704-4.096-12.8-12.8-21.504-8.704-4.096-16.896-4.096-21.504-4.096-8.704 4.096-12.8 8.704-21.504 21.504-4.096 8.704-8.704 12.8-12.8 21.504s-8.704 12.8-12.8 21.504h-51.2c-4.096-8.704-8.704-16.896-8.704-21.504-4.096-8.704-8.704-12.8-12.8-21.504-4.096-12.8-12.8-16.896-21.504-16.896s-16.896 0-25.6 8.704-12.8 12.8-12.8 21.504 0 16.896 8.704 25.6l4.096 4.096 4.096 4.096c-16.896 0-29.696 4.096-38.4 12.8-8.704 4.096-12.8 21.504-12.8 38.4v157.696c0 21.504 4.096 34.304 12.8 42.496 8.704 8.704 21.504 12.8 42.496 12.8H512v34.304h-98.304c-12.8 0-21.504 0-25.6 4.096s-8.704 8.704-8.704 21.504v16.896c0 4.096 4.096 8.704 4.096 8.704 4.096 0 4.096 4.096 8.704 4.096H512V716.8c0 12.8 4.096 21.504 8.704 25.6 4.096 4.096 12.8 8.704 21.504 8.704 12.8 0 21.504-4.096 25.6-8.704 4.096-4.096 4.096-12.8 4.096-25.6v-55.296H652.8c-8.704 25.6-12.8 51.2-12.8 76.8 0 140.8 115.2 256 256 256s256-115.2 256-256S1036.8 486.4 896 486.4zm-328.704-128h55.296c4.096 0 4.096 0 4.096 4.096V409.6h-59.904v-51.2zm0 102.4H627.2V512h-55.296v-51.2h-4.608zM512 516.096h-55.296v-51.2H512v51.2zm0-102.4h-59.904v-51.2H512v51.2zm384 499.2c-93.696 0-170.496-76.8-170.496-170.496S802.304 571.904 896 571.904s170.496 76.8 170.496 170.496S989.696 912.896 896 912.896z"/><path fill="#fff" d="M580.096 879.104H213.504c-72.704 0-128-55.296-128-119.296V230.4c0-64 55.296-119.296 128-119.296h512c72.704 0 128 55.296 128 119.296v140.8c0 25.6 16.896 42.496 42.496 42.496s42.496-16.896 42.496-42.496V230.4c0-115.2-93.696-204.8-213.504-204.8h-512C93.696 25.6 0 119.296 0 230.4v528.896c0 115.2 93.696 204.8 213.504 204.8h367.104c25.6 0 42.496-16.896 42.496-42.496s-21.504-42.496-43.008-42.496zm171.52 10.752c-15.36-15.36-15.36-40.96 0-56.32l237.568-237.568c15.36-15.36 40.96-15.36 56.32 0s15.36 40.96 0 56.32L807.936 889.856c-15.36 15.36-40.448 15.36-56.32 0z"/></svg>'},{}],i9Q0Z:[function(t,e,r){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"><path d="M16.5 8c1.289 0 2.49.375 3.5 1.022V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7.022A6.5 6.5 0 0 1 16.5 8zM7 13H5a1 1 0 0 1 0-2h2a1 1 0 0 1 0 2zm2-4H5a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2z"/><path d="m20.587 13.696-.787-.131a3.503 3.503 0 0 0-.593-1.051l.301-.804a.46.46 0 0 0-.21-.56l-1.005-.581a.52.52 0 0 0-.656.113l-.499.607a3.53 3.53 0 0 0-1.276 0l-.499-.607a.52.52 0 0 0-.656-.113l-1.005.581a.46.46 0 0 0-.21.56l.301.804c-.254.31-.456.665-.593 1.051l-.787.131a.48.48 0 0 0-.413.465v1.209a.48.48 0 0 0 .413.465l.811.135c.144.382.353.733.614 1.038l-.292.78a.46.46 0 0 0 .21.56l1.005.581a.52.52 0 0 0 .656-.113l.515-.626a3.549 3.549 0 0 0 1.136 0l.515.626a.52.52 0 0 0 .656.113l1.005-.581a.46.46 0 0 0 .21-.56l-.292-.78c.261-.305.47-.656.614-1.038l.811-.135A.48.48 0 0 0 21 15.37v-1.209a.48.48 0 0 0-.413-.465zM16.5 16.057a1.29 1.29 0 1 1 .002-2.582 1.29 1.29 0 0 1-.002 2.582z"/></svg>'},{}],"43C8k":[function(t,e,r){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22" width="24" height="24"><path d="M17 16H5c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1zM6.96 15c.39 0 .74-.24.89-.6l.65-1.6h5l.66 1.6c.15.36.5.6.89.6.69 0 1.15-.71.88-1.34l-3.88-8.97C11.87 4.27 11.46 4 11 4s-.87.27-1.05.69l-3.88 8.97c-.27.63.2 1.34.89 1.34zM11 5.98 12.87 11H9.13L11 5.98z"/></svg>'},{}]},["bqk8e"],"bqk8e");